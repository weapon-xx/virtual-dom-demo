<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <button id="btn" type="button" name="button">repaint</button>
    <ul id="ul">

    </ul>
    <script type="text/javascript">
      const $body = document.querySelector('body')
      const $ul = document.querySelector('#ul')
      let i = 0

      while(i < 10000) {
        let $li = document.createElement('li')
        let $p = document.createElement('p')
        let $text = document.createTextNode(i + '')
        $p.appendChild($text)
        $li.appendChild($p)
        $ul.appendChild($li)
        i++
      }

      $body.appendChild($ul)

      document.querySelector('#btn').addEventListener('click', e => {
        const $newUl = document.createElement('ul')
        let i = 0
        while(i < 10000) {
          let $li = document.createElement('li')
          let $p = document.createElement('p')
          let $text
          if(i % 10 === 0) {
            $text = document.createTextNode(i + '-change')
          } else {
            $text = document.createTextNode(i)
          }
          $p.appendChild($text)
          $li.appendChild($p)
          $newUl.appendChild($li)
          i++
        }

        $body.replaceChild($newUl, $ul)
      })
    </script>
  </body>
</html>
